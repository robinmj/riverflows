
buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath "org.robolectric:robolectric-gradle-plugin:0.11.+"
    }
}

apply plugin: 'com.android.application'
apply plugin: 'robolectric'

dependencies {
    compile fileTree(dir: 'libs', include: '*.jar')
    compile 'com.android.support:support-v4:20.0.0'
    compile 'com.android.support:appcompat-v7:20.0.0'
    compile 'com.google.android.gms:play-services:3.2.+'
    compile project(':Datasources')

    //androidTestCompile "org.jmockit:jmockit:1.13"
    androidTestCompile "junit:junit:4.11"
    androidTestCompile("org.robolectric:robolectric:2.3") {
        exclude module: "commons-logging"
        exclude module: "httpclient"
    }
    androidTestCompile files("testlibs/android-20-stripped.jar")
    androidTestCompile files("testlibs/bcprov-jdk15on-150.jar")
    androidTestCompile files("build/intermediates/exploded-aar/RiverFlows/Datasources/unspecified/classes.jar")
}

android {
    compileSdkVersion 20
    buildToolsVersion '20.0.0'

    packagingOptions {
        exclude 'META-INF/LICENSE.txt'
        exclude 'META-INF/NOTICE.txt'
    }
}

robolectric {
    include "**/*Test.class"
}

// tell gradle to include robolectric test classes
task copyTestClasses(type: Copy) {
    from "build/test-classes"
    into "build/intermediates/classes/debug"
}